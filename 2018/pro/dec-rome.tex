\task{Римская десятичная система счисления}
\def\D{_{\text{\footnotesize Д}}} \def\R{_{\text{\footnotesize Р}}}

\begin{enumerate}

\item
\begin{align*}
	& 333\R = 333\D \\
	& 2050\R = 2000 + 0 - 50 = 1950\D \\
	& 10001\R = 9999\D \\
	& 404004\R = 400000 - 4000 + 4 = 396004\D \\
\end{align*}

\item Интересная особенность римской десятичной системы счисления заключается в том, что для умножения натурального числа на $-1$ перед ним достаточно приписать цифру $0$: так как она меньше любой значащей цифры, нам придётся вычесть число, получаемое из младших разрядов, из $0 \cdot 10^m = 0$.

\vspace{-0.4cm}
\begin{align*}
	& 91\D = 91\R \\
	& 150\D = 1850\R \\
	& -1\D = 01\R \\
	& 13\D = 27\R \\
\end{align*}

\item Ответ очевиден: подходят все строки, цифры в которых расположены в порядке убывания.

Почему так? Если цифры в строке расположены не по убыванию, то при чтении её слева направо в какой-то момент нам придётся сделать вычитание при расшифровке римской записи против сложения при расшифровке десятичной. И результат получится строго меньше.

\item У каких чисел их римская запись может совпадать со стандартной? У тех, у которых старшая цифра не меньше младшей. Для остальных чисел нам придётся придумывать более хитрую процедуру преобразования.

Пусть дано число $xy\D$, $x<y$. Давайте вычтем его из 100:

\begin{center}\begin{tabular}{rrr}
	$1$ & $0$ & $0$ \\
	 & $x$ & $y$ \\ \hline
	 & $(10-x-1)$ & $(10-y)$
\end{tabular}\end{center}

Получилось двузначное число, состоящее из цифр $10-x-1$ и $10-y$. Будет ли оно «правильным», то есть, окажется ли его первая цифра не меньше второй?

\vspace{-0.4cm}
\begin{align*}
	10-x-1 &\ge 10-y \\
	-x-1 &\ge 10-y \\
	x+1 &\le y \\
	x &< y
\end{align*}

То есть, первая цифра полученного числа {\bfseries всегда}  будет не меньше второй, и при переводе из римской записи в стандартную такое число будет давать себя же. Более того, его первая цифра — хотя бы 1, то есть, не меньше единицы. Отсюда

\vspace{-0.4cm}
\begin{align*}
1[10-x-1][10-y]\R &= 100 -([10-x-1][10-y]\R) = \\
	=& 100 -([10-x-1][10-y]\D) = xy\D.
\end{align*}

Мы получили {\itshape алгоритм}, то есть процедуру (не включающую в себя перебор) построения по десятичному числу его римской записи:
\begin{enumerate}
	\item Сравнить первую цифру и вторую\scolon
	\item Если первая оказалась не меньше, то оставить запись как есть\scolon если первая оказалась меньше, то вычесть число из 100 — запись вида 1\frame{$\vphantom\int$двузначная разность} будет ответом.
\end{enumerate}

Стоит отметить, что получаемая нами таким образом римская запись будет одной из многих, соответствующих данному числу.

\item Для умножения числа на 10 к его записи нужно приписать ноль \linebreak справа, а для умножения на $-1$ — слева, это уже обсуждалось ранее.

\item $91\R = 109\R = 91$.

\item $1999\R = 199\R = 19\R = 1\R$.

\item Придумайте признаки делимости на 2, на 5, на 3 в десятичной римской системе счисления.

Признаки делимости на 2 и на 5 всё так же будут завязаны на последней цифре, потому как при «расшифровке» всех более старших разрядов они прибавляются и вычитаются, только будучи домножены на какую-то степень десятки, а $10$ делится на $2$ и на $5$.

\item Неравенство $\tfrac{Y\D}{3} < N \leq Y\D$, будучи, вообще говоря, {\bfseries неверным} в десятичной системе счисления, оказывается верным в двоичной. Двоичная римская система счисления интересна ещё и тем, что там каждому числу соответствует не более двух римских записей (в отличие от десятичной системы, смотреть пункт 7).

Авторы задач олимпиады «Математика НОН-СТОП» рекомендуют двоичную римскую систему счисления как тему для исследовательских проектов, которые могут быть представлены на различных научных конкурсах для школьников.

\item Докажем, что $M = 121$ — именно такое число.

\begin{enumerate}
	\item Если у него есть римская запись, то у него есть четырёхзначная римская запись. Причина этому в том, что любая запись большей значности обязана была бы начиначться с $19x...$, $x \ne 1$, так как иначе при её расшифровке получится число, больше 121. Но такую запись можно заменить на $1x...$ без изменения её расшифрованного значения.

	\item Четырёхзначная римская запись числа 121 должна начинаться на $18$. Если первая чифра была бы 2, то при переводе получилось бы число не меньше 1000. Если вторая цифра была бы 7 (или меньше), то получилось бы число не меньше 200. А если бы вторая цифра была равна 9, то следующая за ней цифра не превосходила бы её и тоже «вычиталась» бы, поэтому результат не превосходил бы
	$$1000 - 900+10 = 110.$$

	\item Последняя цифра римской записи числа 121 равна либо 1 (тогда она должна прибавляться), либо 9 (тогда она должна вычитаться). В первом случае $1000 - 800 \pm x \cdot 10 + 1 = 121$\scolon во втором случае $1000 - 800 \pm x\cdot 10 - 9 = 121$.
	
В обоих случаях на роль $x$ претендуют цифры 7, 8 и 9. Тут уже перебором просто показать, что ни одна из них не подойдёт.

\end{enumerate}
\end{enumerate}