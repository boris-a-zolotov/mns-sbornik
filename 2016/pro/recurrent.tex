\task{Рекуррентные функции}

\begin{enumerate}
\item Рассмотрим $f(a,b)$. Если $a \ge b$, тогда либо $b = 0$ (и результат функции определен однозначно),
либо $f(a,b) = f(a-b,a)$, при $b > 0$. Далее мы можем продолжить процесс вычисления, и поскольку:
(а) сумма $a+b$ при каждой итерации уменьшается хотя бы на 1 и (б) $a$ и $b$ всегда неотрицательны, 
то неизбежно один из аргументов станет равным $0$ и процесс завершится. 

Если же $a < b$, то $f(a,b) = f(b,a)$ и вычисление сводится к предыдущему случаю.

Таким образом, функция задана для любых пар $(a,b)$, причем процесс вычисления единственен.

\item Если $f(a,0) = a$, то $f(a,b) = \gcd(a,b)$.
В самом деле, $\gcd(a,b) = \gcd(a-b,b)$, то есть на каждом шаге вычисление НОД сохраняется.
На последнем же шаге $\gcd(a,0) = a$, но это же значение и является результатом вычисления.

Заметим, что данное вычисление --- не что иное, как алгоритм Евклида.

\item В общем случае, если $f(a,0) = g(a)$, то $f(a,b) = g(\gcd(a,b))$, поскольку данное 
изменение повлияет только на последний шаг вычисления.

\item Данное определение функции не отличается по структуре вычисления от первого пукта ---
различается только результат. Поэтому функция по-прежнему будет определена во всех точках.

\item Пусть $T(x) = x + k$ и пусть $g(a) = f(a,0) = f(0,a)$. Тогда перепишем условие:

$$f(a,b) = \left\{\begin{array}{ll}
   g(a), & b = 0\\
   k+f(a-b,b), & a \ge b > 0\\
   f(b,a), & a > b\end{array}\right.$$

или иначе: $f(a,b) = g(\gcd(a,b)) + ks$, где $s$ --- количество вычитаний, требуемых,
чтобы получить $\gcd(a,b)$ (т.е. количество шагов алгоритма Евклида). 

\item Пусть задана функция $h$. Мы должны показать, что $h(a,b)$ может быть вычислена 
только с помощью применения указанных свойств (а) \dots (е).

Процесс вычисления можно построить следующим образом, разобрав случаи: 

Если $a \le 2$ или $b \le 2$, воспользуемся пунктом (д).

Если $a > 2$ и $b > 2$, и хотя бы одно из чисел --- составное, то мы можем разложить
его в произведение простых, и далее по свойствам (а) и (б) 
мы можем представить $h(a,b)$ как произведение сомножителей вида $h(p,q)$, 
где $p$ и $q$ --- простые.

Таким образом, остается случай простых нечетных $a$ и $b$. Если
$a = b$, то мы вычисляем результат по свойству (в). Если $a > b$, то
по свойству (г) мы сводим вычисление $h(a,b)$ к вычислению $h(a \bmod b,b)$. 
Аналогично, $h(a,b) = T(h(b \bmod a,a))$ по свойствам (е) и (г), если $a < b$.

Мы предложили способ вычислить значение для любых неотрицательных натуральных
чисел, теперь поясним, почему этот способ всегда завершится получением
ответа --- то есть, почему мы воспользуемся правилами (а), (б) и (г) конечное количество раз.

В самом деле, в части случаев мы прямо пришли к ответу, использовав свойства (в) и (д), а в части ---
использовали пункты (а), (б) и (г), сведя задачу к вычислению функции $h$
от других аргументов. Но при каждом из сведений аргументы у функции $h$ уменьшаются ---
один или оба: \begin{itemize}
\item в случае (д), $a \bmod b < a$; 
\item в случаях (а) и (б), если $a = p_1 \cdot p_2 \cdot \ldots \cdot p_n$ и $n \ge 2$, то $p_i < a$.
\end{itemize}

Значит, за конечное количество шагов мы придем к базовым случаям (в) и (д) и окончим вычисление.

Данное рассуждение несложно формализовать, если провести его с помощью индукции, например, 
по $\min(a,b)$.
\end{enumerate}
