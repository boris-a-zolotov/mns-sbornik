\documentclass[10pt]{scrbook} \usepackage{modules/nonstahp_book}
\input{modules/mspec} \begin{document}

\task{Через тернии к звёздам}
\def\vfi{\varphi}

\begin{enumerate}

	\item Кратчайший путь между $A$ и $C$ проходит либо через $B$, либо не затрагивая её. В первом случае $d\,(A,B) + d\,(B,C) = d\,(A,C)$, во втором случае $d\,(A,B) + \d(B,C) \le d\,(A,C)$, потому что кратчайший путь между $A$ и $C$, проходящий через $B$, не может быть короче пути, кратчайшего вообще.

	\item Наибольшее возможное расстояние между вершинами $n$--угольника равно $\lfloor \tfrac{n}{2} \rfloor$, все значения расстояния от 0 до этого числа достигаются. На расстоянии от данной вершины, строго меньшем, чем $\tfrac{n}{2}$, всегда находятся ровно две других.
	
	Если $n$ чётное, то есть одна вершина, находящаяся от данной на расстоянии $\tfrac{n}{2}$, она же наиболее удалённая. Если $n$ нечётное, то наиболее удалены от данной две вершины, находящиеся на расстоянии $\lfloor \tfrac{n}{2} \rfloor$ от неё~— справа и слева.

	\item Пусть все стороны многоугольника, кроме одной, имеют «вес» 1, а оставшаяся~— «вес» 2. Расстояние между вершинами будем считать как сумму весов сторон, по которым проходит кратчайший путь между ними. Для такого расстояния даже выполнено неравенство треугольника, а также оно зависит от выбора «тяжёлой» стороны~— то есть, будет меняться при вращении многоугольника.

	Определим
	$$\delta\,(A,B) = \begin{cases} 0, & A=B\scolon\\ 1, & A \ne B \end{cases}$$

	Для этого расстояния также выполнено неравенство треугольника, и оно, очевидно, не получается из взятого в условии задачи умножением на число, потому что расстояния между любыми двумя не равными вершинами одинаково.

\item Докажем, что $(n,k)$--звезда состоит из одной ломаной $\Longleftrightarrow$ числа $n$ и $k$ взаимно просты. Для удобства пронумеруем вершины $n$-угольника числами от $0$ до $n-1$ по часовой стрелке. Заметим, что расстояние между вершинами равно $k$ тогда и только тогда, когда разность их номеров равна $k$, $-k$ или $n-k$~— то есть, её модуль имеет остаток $k$ при делении на $n$.

\frame{$\vphantom{\text{H}}\Longleftarrow$} Пусть одна ломаная соединяет все вершины правильного $n$--угольника. Значит, у неё есть ребро, выходящее из нулевой вершины и идущее в сторону «по часовой стрелке». Оно приходит в вершину №$k$. Следующее~— в вершину №$2k \bmod n$. Следующее за ним~— в вершину №$3k \bmod n$, и так далее.

	Что представляет из себя, например, число $3k \bmod n$? Это, на самом деле, разность $3k - n -\ldots-n$. Если НОД чисел $n$ и $k$ не равен единице, то все числа вида $i \cdot k \bmod n$ будут делиться на этот НОД. Это значит, что последовательность рёбер, которую мы начали, выходя из нулевой вершины, не посетит вершину №1.
	
\frame{$\vphantom{\text{H}}\Longrightarrow$} Пусть $\text{НОД}\,(n,k) = 1$, но ломаная, проходящая через нулевую вершину, не покрывает всех вершин многоугольника. Тогда среди чисел $0 \cdot k$, $1 \cdot k$, $\ldots$, $(n-1) \cdot k$ (это номера вершин, через которые проходит ломаная) в силу принципа Дирихле есть два сравнимых по модулю $n$ (соответствующих одной вершине многоугольника).
\begin{align*}
	&a_1 \cdot k - a_2 \cdot k \text{ делится на } n\scolon\\
	&(a_1 - a_2) \cdot k \text{ делится на } n,\quad|a_1 - a_2|<n\scolon\\
	&\text{\footnotesize($k$ взаимно просто с $n$)} \\
	& a_1 - a_2 \text{ делится на } n\ \ \Rightarrow\ \ a_1-a_2=0.
\end{align*}

Получили противоречие: числа $a_1k$ и $a_2k$ не могли оказаться различными.

\end{enumerate}


%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%


\begin{enumerate}

\item Сколько для данного $n$ существует $(n,k)$--звёзд, состоящих из одной ломаной?

\item Для данных $n$ и $k$, из скольки ломаных состоит $(n,k)$--звезда?

\item Для данных $n$ и $\ell$, сколько $(n,k)$--звёзд состоит ровно из $\ell$ ломаных?

\item Через $\vfi(n)$ обозначим количество натуральных чисел, меньших $n$ и взаимно простых с $n$. Используя свои знания о звёздах, докажите формулу

$$\sum\limits_{d \text{ делит } n}\!\!\!\!\!\vfi(d) = n.$$
\end{enumerate}


\end{document}